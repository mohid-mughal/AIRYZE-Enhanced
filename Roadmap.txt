
# ğŸš€ **FULL DEVELOPMENT ROADMAP FOR YOUR AQI APP**

This roadmap is **step-by-step**, starting from frontend â†’ backend â†’ integration â†’ database â†’ polish â†’ deployment.

---

# âœ… **PHASE 1 â€” FRONTEND FOUNDATION (React + Tailwind)**  
*(You already created the frontend folder, so now start coding the UI skeleton.)*

## **Step 1. Create Core Layout**
Inside `frontend/src/`:

- Create a **Dashboard page**
- Create a **Navbar**
- Add a **grid layout** for map + AQI panel + city cards + charts

**Files to create:**
```
src/
 â”œâ”€â”€ pages/
 â”‚     â””â”€â”€ Dashboard.jsx
 â”œâ”€â”€ components/
 â”‚     â”œâ”€â”€ Navbar.jsx
 â”‚     â”œâ”€â”€ MapView.jsx
 â”‚     â”œâ”€â”€ AQIDetailsPanel.jsx
 â”‚     â”œâ”€â”€ CityAQICard.jsx
 â”‚     â””â”€â”€ AQIChart.jsx
```

**Goal:** A modern empty UI where components are just boxed placeholders.

---

## **Step 2. Integrate Leaflet Map**
Implement:

- Load Leaflet map centered on Pakistan  
- Add `onClick` handler  
- Display lat/lon in state  

You do **NOT** call backend yet â€” just console log coordinates.

---

## **Step 3. Connect Frontend to Backend (Test Only)**
Create `frontend/src/services/api.js`:

- Make a simple test GET request: `/api/ping`

This allows you to confirm CORS, axios, and proxy are working.

---

# âœ… **PHASE 2 â€” BACKEND FOUNDATION (Node.js + Express)**

## **Step 4. Setup Backend Server**
Inside `backend/src/server.js`:  

- Create an Express server  
- Add CORS  
- Add dotenv  
- Add `/api/ping` route  

After this your frontend can successfully call backend.

---

## **Step 5. Create AQI Route + Controller**
Create:

```
backend/src/routes/aqiRoutes.js
backend/src/controllers/aqiController.js
backend/src/services/openaqService.js
```

And implement:

- `/api/aqi?lat=&lon=` â†’ calls OpenAQ API  
- Extract raw pollutants  
- Pass them to AQI calculator  
- Return cleaned formatted JSON  

Now your map click â†’ backend â†’ OpenAQ â†’ frontend.

---

# ğŸ§  **PHASE 3 â€” AQI CALCULATION LOGIC**

## **Step 6. Implement AQI Calculator Utility**
Create:

```
backend/src/utils/aqiCalculator.js
```

This file will:

- Take PM2.5, PM10, O3, NO2, etc  
- Compute AQI based on US EPA standard  
- Return:
  - AQI value
  - Category (Good, Moderateâ€¦)
  - Color code

Now backend returns *useful processed AQI*, not raw.

---

# ğŸ—ƒ **PHASE 4 â€” DATABASE (PostgreSQL)**

## **Step 7. Setup DB Connection**
`backend/src/config/db.js`:

- Connect to PostgreSQL
- Add error handling

---

## **Step 8. Create Tables**
In `database/schema.sql`:

```
queries
city_aqi_cache
```

Run using pgAdmin or psql.

---

## **Step 9. Save User Queries**
In `aqiController.js` save:

- lat  
- lon  
- pollutants  
- AQI  
- timestamp  

into `queries` table.

---

# ğŸŒ† **PHASE 5 â€” MAJOR CITIES AQI**

## **Step 10. Create `/api/cities`**

This endpoint will:

1. Load a static list of Pakistan cities + coordinates  
2. Call OpenAQ for each  
3. Cache results for 5 minutes  
4. Return formatted list to frontend  

Frontend will display them in a grid of **CityAQICard** components.

---

# ğŸ“Š **PHASE 6 â€” CHARTS**

## **Step 11. Create AQI Chart Component**

`AQIChart.jsx`:

- Line Chart (past 24 hours or DB history)
- Bar Chart (major cities AQI)

---

# ğŸŒ **PHASE 7 â€” CONNECT EVERYTHING**

## **Step 12. Wire Frontend â†’ Backend**
Now your map click:

1. React captures coordinates  
2. Calls backend `/api/aqi`  
3. Backend calls OpenAQ  
4. AQI calculated  
5. React updates UI components  

---

# âœ¨ **PHASE 8 â€” UI POLISHING**

## **Step 13. Improve UX**
- Loader component  
- Error messages  
- Color-coded AQI cards  
- Responsive layout  
- Clean typography  

---

# ğŸš€ **PHASE 9 â€” DEPLOYMENT**
Later you will:

- Deploy frontend â†’ Vercel  
- Deploy backend â†’ Render  
- Deploy database â†’ Railway  

Iâ€™ll guide you when you reach there.

---

# ğŸ”¥ **SUMMARY OF THE ROADMAP**

### **1. Build frontend UI skeleton**
### **2. Build Leaflet map**
### **3. Test frontend-backend connection**
### **4. Build backend AQI route**
### **5. Add AQI calculator**
### **6. Implement PostgreSQL**
### **7. Add cities AQI**
### **8. Add charts**
### **9. Polish UI**
### **10. Deploy**

---

